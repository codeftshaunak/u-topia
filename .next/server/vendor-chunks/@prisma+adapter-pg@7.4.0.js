"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@prisma+adapter-pg@7.4.0";
exports.ids = ["vendor-chunks/@prisma+adapter-pg@7.4.0"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@prisma+adapter-pg@7.4.0/node_modules/@prisma/adapter-pg/dist/index.mjs":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@prisma+adapter-pg@7.4.0/node_modules/@prisma/adapter-pg/dist/index.mjs ***!
  \****************************************************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaPg: () => (/* binding */ PrismaPgAdapterFactory)\n/* harmony export */ });\n/* harmony import */ var _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/driver-adapter-utils */ \"(rsc)/./node_modules/.pnpm/@prisma+debug@7.4.0/node_modules/@prisma/debug/dist/index.mjs\");\n/* harmony import */ var _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/driver-adapter-utils */ \"(rsc)/./node_modules/.pnpm/@prisma+driver-adapter-utils@7.4.0/node_modules/@prisma/driver-adapter-utils/dist/index.mjs\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var postgres_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! postgres-array */ \"(rsc)/./node_modules/.pnpm/postgres-array@3.0.4/node_modules/postgres-array/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// src/pg.ts\n\n\n\n// package.json\nvar name = \"@prisma/adapter-pg\";\n\n// src/constants.ts\nvar FIRST_NORMAL_OBJECT_ID = 16384;\n\n// src/conversion.ts\n\n\n\nvar { types } = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nvar { builtins: ScalarColumnType, getTypeParser } = types;\nvar AdditionalScalarColumnType = {\n  NAME: 19\n};\nvar ArrayColumnType = {\n  BIT_ARRAY: 1561,\n  BOOL_ARRAY: 1e3,\n  BYTEA_ARRAY: 1001,\n  BPCHAR_ARRAY: 1014,\n  CHAR_ARRAY: 1002,\n  CIDR_ARRAY: 651,\n  DATE_ARRAY: 1182,\n  FLOAT4_ARRAY: 1021,\n  FLOAT8_ARRAY: 1022,\n  INET_ARRAY: 1041,\n  INT2_ARRAY: 1005,\n  INT4_ARRAY: 1007,\n  INT8_ARRAY: 1016,\n  JSONB_ARRAY: 3807,\n  JSON_ARRAY: 199,\n  MONEY_ARRAY: 791,\n  NUMERIC_ARRAY: 1231,\n  OID_ARRAY: 1028,\n  TEXT_ARRAY: 1009,\n  TIMESTAMP_ARRAY: 1115,\n  TIMESTAMPTZ_ARRAY: 1185,\n  TIME_ARRAY: 1183,\n  UUID_ARRAY: 2951,\n  VARBIT_ARRAY: 1563,\n  VARCHAR_ARRAY: 1015,\n  XML_ARRAY: 143\n};\nvar UnsupportedNativeDataType = class _UnsupportedNativeDataType extends Error {\n  // map of type codes to type names\n  static typeNames = {\n    16: \"bool\",\n    17: \"bytea\",\n    18: \"char\",\n    19: \"name\",\n    20: \"int8\",\n    21: \"int2\",\n    22: \"int2vector\",\n    23: \"int4\",\n    24: \"regproc\",\n    25: \"text\",\n    26: \"oid\",\n    27: \"tid\",\n    28: \"xid\",\n    29: \"cid\",\n    30: \"oidvector\",\n    32: \"pg_ddl_command\",\n    71: \"pg_type\",\n    75: \"pg_attribute\",\n    81: \"pg_proc\",\n    83: \"pg_class\",\n    114: \"json\",\n    142: \"xml\",\n    194: \"pg_node_tree\",\n    269: \"table_am_handler\",\n    325: \"index_am_handler\",\n    600: \"point\",\n    601: \"lseg\",\n    602: \"path\",\n    603: \"box\",\n    604: \"polygon\",\n    628: \"line\",\n    650: \"cidr\",\n    700: \"float4\",\n    701: \"float8\",\n    705: \"unknown\",\n    718: \"circle\",\n    774: \"macaddr8\",\n    790: \"money\",\n    829: \"macaddr\",\n    869: \"inet\",\n    1033: \"aclitem\",\n    1042: \"bpchar\",\n    1043: \"varchar\",\n    1082: \"date\",\n    1083: \"time\",\n    1114: \"timestamp\",\n    1184: \"timestamptz\",\n    1186: \"interval\",\n    1266: \"timetz\",\n    1560: \"bit\",\n    1562: \"varbit\",\n    1700: \"numeric\",\n    1790: \"refcursor\",\n    2202: \"regprocedure\",\n    2203: \"regoper\",\n    2204: \"regoperator\",\n    2205: \"regclass\",\n    2206: \"regtype\",\n    2249: \"record\",\n    2275: \"cstring\",\n    2276: \"any\",\n    2277: \"anyarray\",\n    2278: \"void\",\n    2279: \"trigger\",\n    2280: \"language_handler\",\n    2281: \"internal\",\n    2283: \"anyelement\",\n    2287: \"_record\",\n    2776: \"anynonarray\",\n    2950: \"uuid\",\n    2970: \"txid_snapshot\",\n    3115: \"fdw_handler\",\n    3220: \"pg_lsn\",\n    3310: \"tsm_handler\",\n    3361: \"pg_ndistinct\",\n    3402: \"pg_dependencies\",\n    3500: \"anyenum\",\n    3614: \"tsvector\",\n    3615: \"tsquery\",\n    3642: \"gtsvector\",\n    3734: \"regconfig\",\n    3769: \"regdictionary\",\n    3802: \"jsonb\",\n    3831: \"anyrange\",\n    3838: \"event_trigger\",\n    3904: \"int4range\",\n    3906: \"numrange\",\n    3908: \"tsrange\",\n    3910: \"tstzrange\",\n    3912: \"daterange\",\n    3926: \"int8range\",\n    4072: \"jsonpath\",\n    4089: \"regnamespace\",\n    4096: \"regrole\",\n    4191: \"regcollation\",\n    4451: \"int4multirange\",\n    4532: \"nummultirange\",\n    4533: \"tsmultirange\",\n    4534: \"tstzmultirange\",\n    4535: \"datemultirange\",\n    4536: \"int8multirange\",\n    4537: \"anymultirange\",\n    4538: \"anycompatiblemultirange\",\n    4600: \"pg_brin_bloom_summary\",\n    4601: \"pg_brin_minmax_multi_summary\",\n    5017: \"pg_mcv_list\",\n    5038: \"pg_snapshot\",\n    5069: \"xid8\",\n    5077: \"anycompatible\",\n    5078: \"anycompatiblearray\",\n    5079: \"anycompatiblenonarray\",\n    5080: \"anycompatiblerange\"\n  };\n  type;\n  constructor(code) {\n    super();\n    this.type = _UnsupportedNativeDataType.typeNames[code] || \"Unknown\";\n    this.message = `Unsupported column type ${this.type}`;\n  }\n};\nfunction fieldToColumnType(fieldTypeId) {\n  switch (fieldTypeId) {\n    case ScalarColumnType.INT2:\n    case ScalarColumnType.INT4:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int32;\n    case ScalarColumnType.INT8:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64;\n    case ScalarColumnType.FLOAT4:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Float;\n    case ScalarColumnType.FLOAT8:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Double;\n    case ScalarColumnType.BOOL:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Boolean;\n    case ScalarColumnType.DATE:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Date;\n    case ScalarColumnType.TIME:\n    case ScalarColumnType.TIMETZ:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Time;\n    case ScalarColumnType.TIMESTAMP:\n    case ScalarColumnType.TIMESTAMPTZ:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTime;\n    case ScalarColumnType.NUMERIC:\n    case ScalarColumnType.MONEY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Numeric;\n    case ScalarColumnType.JSON:\n    case ScalarColumnType.JSONB:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Json;\n    case ScalarColumnType.UUID:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Uuid;\n    case ScalarColumnType.OID:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64;\n    case ScalarColumnType.BPCHAR:\n    case ScalarColumnType.TEXT:\n    case ScalarColumnType.VARCHAR:\n    case ScalarColumnType.BIT:\n    case ScalarColumnType.VARBIT:\n    case ScalarColumnType.INET:\n    case ScalarColumnType.CIDR:\n    case ScalarColumnType.XML:\n    case AdditionalScalarColumnType.NAME:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Text;\n    case ScalarColumnType.BYTEA:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Bytes;\n    case ArrayColumnType.INT2_ARRAY:\n    case ArrayColumnType.INT4_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int32Array;\n    case ArrayColumnType.FLOAT4_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.FloatArray;\n    case ArrayColumnType.FLOAT8_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DoubleArray;\n    case ArrayColumnType.NUMERIC_ARRAY:\n    case ArrayColumnType.MONEY_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.NumericArray;\n    case ArrayColumnType.BOOL_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.BooleanArray;\n    case ArrayColumnType.CHAR_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.CharacterArray;\n    case ArrayColumnType.BPCHAR_ARRAY:\n    case ArrayColumnType.TEXT_ARRAY:\n    case ArrayColumnType.VARCHAR_ARRAY:\n    case ArrayColumnType.VARBIT_ARRAY:\n    case ArrayColumnType.BIT_ARRAY:\n    case ArrayColumnType.INET_ARRAY:\n    case ArrayColumnType.CIDR_ARRAY:\n    case ArrayColumnType.XML_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.TextArray;\n    case ArrayColumnType.DATE_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateArray;\n    case ArrayColumnType.TIME_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.TimeArray;\n    case ArrayColumnType.TIMESTAMP_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTimeArray;\n    case ArrayColumnType.TIMESTAMPTZ_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTimeArray;\n    case ArrayColumnType.JSON_ARRAY:\n    case ArrayColumnType.JSONB_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.JsonArray;\n    case ArrayColumnType.BYTEA_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.BytesArray;\n    case ArrayColumnType.UUID_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.UuidArray;\n    case ArrayColumnType.INT8_ARRAY:\n    case ArrayColumnType.OID_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64Array;\n    default:\n      if (fieldTypeId >= FIRST_NORMAL_OBJECT_ID) {\n        return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Text;\n      }\n      throw new UnsupportedNativeDataType(fieldTypeId);\n  }\n}\nfunction normalize_array(element_normalizer) {\n  return (str) => (0,postgres_array__WEBPACK_IMPORTED_MODULE_1__.parse)(str, element_normalizer);\n}\nfunction normalize_numeric(numeric) {\n  return numeric;\n}\nfunction normalize_date(date) {\n  return date;\n}\nfunction normalize_timestamp(time) {\n  return `${time.replace(\" \", \"T\")}+00:00`;\n}\nfunction normalize_timestamptz(time) {\n  return time.replace(\" \", \"T\").replace(/[+-]\\d{2}(:\\d{2})?$/, \"+00:00\");\n}\nfunction normalize_time(time) {\n  return time;\n}\nfunction normalize_timez(time) {\n  return time.replace(/[+-]\\d{2}(:\\d{2})?$/, \"\");\n}\nfunction normalize_money(money) {\n  return money.slice(1);\n}\nfunction normalize_xml(xml) {\n  return xml;\n}\nfunction toJson(json) {\n  return json;\n}\nvar parsePgBytes = getTypeParser(ScalarColumnType.BYTEA);\nvar normalizeByteaArray = getTypeParser(ArrayColumnType.BYTEA_ARRAY);\nfunction convertBytes(serializedBytes) {\n  return parsePgBytes(serializedBytes);\n}\nfunction normalizeBit(bit) {\n  return bit;\n}\nvar customParsers = {\n  [ScalarColumnType.NUMERIC]: normalize_numeric,\n  [ArrayColumnType.NUMERIC_ARRAY]: normalize_array(normalize_numeric),\n  [ScalarColumnType.TIME]: normalize_time,\n  [ArrayColumnType.TIME_ARRAY]: normalize_array(normalize_time),\n  [ScalarColumnType.TIMETZ]: normalize_timez,\n  [ScalarColumnType.DATE]: normalize_date,\n  [ArrayColumnType.DATE_ARRAY]: normalize_array(normalize_date),\n  [ScalarColumnType.TIMESTAMP]: normalize_timestamp,\n  [ArrayColumnType.TIMESTAMP_ARRAY]: normalize_array(normalize_timestamp),\n  [ScalarColumnType.TIMESTAMPTZ]: normalize_timestamptz,\n  [ArrayColumnType.TIMESTAMPTZ_ARRAY]: normalize_array(normalize_timestamptz),\n  [ScalarColumnType.MONEY]: normalize_money,\n  [ArrayColumnType.MONEY_ARRAY]: normalize_array(normalize_money),\n  [ScalarColumnType.JSON]: toJson,\n  [ArrayColumnType.JSON_ARRAY]: normalize_array(toJson),\n  [ScalarColumnType.JSONB]: toJson,\n  [ArrayColumnType.JSONB_ARRAY]: normalize_array(toJson),\n  [ScalarColumnType.BYTEA]: convertBytes,\n  [ArrayColumnType.BYTEA_ARRAY]: normalizeByteaArray,\n  [ArrayColumnType.BIT_ARRAY]: normalize_array(normalizeBit),\n  [ArrayColumnType.VARBIT_ARRAY]: normalize_array(normalizeBit),\n  [ArrayColumnType.XML_ARRAY]: normalize_array(normalize_xml)\n};\nfunction mapArg(arg, argType) {\n  if (arg === null) {\n    return null;\n  }\n  if (Array.isArray(arg) && argType.arity === \"list\") {\n    return arg.map((value) => mapArg(value, argType));\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"datetime\") {\n    arg = new Date(arg);\n  }\n  if (arg instanceof Date) {\n    switch (argType.dbType) {\n      case \"TIME\":\n      case \"TIMETZ\":\n        return formatTime(arg);\n      case \"DATE\":\n        return formatDate(arg);\n      default:\n        return formatDateTime(arg);\n    }\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"bytes\") {\n    return Buffer.from(arg, \"base64\");\n  }\n  if (ArrayBuffer.isView(arg)) {\n    return new Uint8Array(arg.buffer, arg.byteOffset, arg.byteLength);\n  }\n  return arg;\n}\nfunction formatDateTime(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  const ms = date.getUTCMilliseconds();\n  return pad(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1) + \"-\" + pad(date.getUTCDate()) + \" \" + pad(date.getUTCHours()) + \":\" + pad(date.getUTCMinutes()) + \":\" + pad(date.getUTCSeconds()) + (ms ? \".\" + String(ms).padStart(3, \"0\") : \"\");\n}\nfunction formatDate(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  return pad(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1) + \"-\" + pad(date.getUTCDate());\n}\nfunction formatTime(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  const ms = date.getUTCMilliseconds();\n  return pad(date.getUTCHours()) + \":\" + pad(date.getUTCMinutes()) + \":\" + pad(date.getUTCSeconds()) + (ms ? \".\" + String(ms).padStart(3, \"0\") : \"\");\n}\n\n// src/errors.ts\nvar TLS_ERRORS = /* @__PURE__ */ new Set([\n  \"UNABLE_TO_GET_ISSUER_CERT\",\n  \"UNABLE_TO_GET_CRL\",\n  \"UNABLE_TO_DECRYPT_CERT_SIGNATURE\",\n  \"UNABLE_TO_DECRYPT_CRL_SIGNATURE\",\n  \"UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY\",\n  \"CERT_SIGNATURE_FAILURE\",\n  \"CRL_SIGNATURE_FAILURE\",\n  \"CERT_NOT_YET_VALID\",\n  \"CERT_HAS_EXPIRED\",\n  \"CRL_NOT_YET_VALID\",\n  \"CRL_HAS_EXPIRED\",\n  \"ERROR_IN_CERT_NOT_BEFORE_FIELD\",\n  \"ERROR_IN_CERT_NOT_AFTER_FIELD\",\n  \"ERROR_IN_CRL_LAST_UPDATE_FIELD\",\n  \"ERROR_IN_CRL_NEXT_UPDATE_FIELD\",\n  \"DEPTH_ZERO_SELF_SIGNED_CERT\",\n  \"SELF_SIGNED_CERT_IN_CHAIN\",\n  \"UNABLE_TO_GET_ISSUER_CERT_LOCALLY\",\n  \"UNABLE_TO_VERIFY_LEAF_SIGNATURE\",\n  \"CERT_CHAIN_TOO_LONG\",\n  \"CERT_REVOKED\",\n  \"INVALID_CA\",\n  \"INVALID_PURPOSE\",\n  \"CERT_UNTRUSTED\",\n  \"CERT_REJECTED\",\n  \"HOSTNAME_MISMATCH\",\n  \"ERR_TLS_CERT_ALTNAME_FORMAT\",\n  \"ERR_TLS_CERT_ALTNAME_INVALID\"\n]);\nvar SOCKET_ERRORS = /* @__PURE__ */ new Set([\"ENOTFOUND\", \"ECONNREFUSED\", \"ECONNRESET\", \"ETIMEDOUT\"]);\nfunction convertDriverError(error) {\n  if (isSocketError(error)) {\n    return mapSocketError(error);\n  }\n  if (isTlsError(error)) {\n    return {\n      kind: \"TlsConnectionError\",\n      reason: error.message\n    };\n  }\n  if (isDriverError(error)) {\n    return {\n      originalCode: error.code,\n      originalMessage: error.message,\n      ...mapDriverError(error)\n    };\n  }\n  throw error;\n}\nfunction mapDriverError(error) {\n  switch (error.code) {\n    case \"22001\":\n      return {\n        kind: \"LengthMismatch\",\n        column: error.column\n      };\n    case \"22003\":\n      return {\n        kind: \"ValueOutOfRange\",\n        cause: error.message\n      };\n    case \"22P02\":\n      return {\n        kind: \"InvalidInputValue\",\n        message: error.message\n      };\n    case \"23505\": {\n      const fields = error.detail?.match(/Key \\(([^)]+)\\)/)?.at(1)?.split(\", \");\n      return {\n        kind: \"UniqueConstraintViolation\",\n        constraint: fields !== void 0 ? { fields } : void 0\n      };\n    }\n    case \"23502\": {\n      const fields = error.detail?.match(/Key \\(([^)]+)\\)/)?.at(1)?.split(\", \");\n      return {\n        kind: \"NullConstraintViolation\",\n        constraint: fields !== void 0 ? { fields } : void 0\n      };\n    }\n    case \"23503\": {\n      let constraint;\n      if (error.column) {\n        constraint = { fields: [error.column] };\n      } else if (error.constraint) {\n        constraint = { index: error.constraint };\n      }\n      return {\n        kind: \"ForeignKeyConstraintViolation\",\n        constraint\n      };\n    }\n    case \"3D000\":\n      return {\n        kind: \"DatabaseDoesNotExist\",\n        db: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"28000\":\n      return {\n        kind: \"DatabaseAccessDenied\",\n        db: error.message.split(\",\").find((s) => s.startsWith(\" database\"))?.split('\"').at(1)\n      };\n    case \"28P01\":\n      return {\n        kind: \"AuthenticationFailed\",\n        user: error.message.split(\" \").pop()?.split('\"').at(1)\n      };\n    case \"40001\":\n      return {\n        kind: \"TransactionWriteConflict\"\n      };\n    case \"42P01\":\n      return {\n        kind: \"TableDoesNotExist\",\n        table: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"42703\":\n      return {\n        kind: \"ColumnNotFound\",\n        column: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"42P04\":\n      return {\n        kind: \"DatabaseAlreadyExists\",\n        db: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"53300\":\n      return {\n        kind: \"TooManyConnections\",\n        cause: error.message\n      };\n    default:\n      return {\n        kind: \"postgres\",\n        code: error.code ?? \"N/A\",\n        severity: error.severity ?? \"N/A\",\n        message: error.message,\n        detail: error.detail,\n        column: error.column,\n        hint: error.hint\n      };\n  }\n}\nfunction isDriverError(error) {\n  return typeof error.code === \"string\" && typeof error.message === \"string\" && typeof error.severity === \"string\" && (typeof error.detail === \"string\" || error.detail === void 0) && (typeof error.column === \"string\" || error.column === void 0) && (typeof error.hint === \"string\" || error.hint === void 0);\n}\nfunction mapSocketError(error) {\n  switch (error.code) {\n    case \"ENOTFOUND\":\n    case \"ECONNREFUSED\":\n      return {\n        kind: \"DatabaseNotReachable\",\n        host: error.address ?? error.hostname,\n        port: error.port\n      };\n    case \"ECONNRESET\":\n      return {\n        kind: \"ConnectionClosed\"\n      };\n    case \"ETIMEDOUT\":\n      return {\n        kind: \"SocketTimeout\"\n      };\n  }\n}\nfunction isSocketError(error) {\n  return typeof error.code === \"string\" && typeof error.syscall === \"string\" && typeof error.errno === \"number\" && SOCKET_ERRORS.has(error.code);\n}\nfunction isTlsError(error) {\n  if (typeof error.code === \"string\") {\n    return TLS_ERRORS.has(error.code);\n  }\n  switch (error.message) {\n    case \"The server does not support SSL connections\":\n    case \"There was an error establishing an SSL connection\":\n      return true;\n  }\n  return false;\n}\n\n// src/pg.ts\nvar types2 = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types;\nvar debug = (0,_prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_3__.Debug)(\"prisma:driver-adapter:pg\");\nvar PgQueryable = class {\n  constructor(client, pgOptions) {\n    this.client = client;\n    this.pgOptions = pgOptions;\n  }\n  provider = \"postgres\";\n  adapterName = name;\n  /**\n   * Execute a query given as SQL, interpolating the given parameters.\n   */\n  async queryRaw(query) {\n    const tag = \"[js::query_raw]\";\n    debug(`${tag} %O`, query);\n    const { fields, rows } = await this.performIO(query);\n    const columnNames = fields.map((field) => field.name);\n    let columnTypes = [];\n    try {\n      columnTypes = fields.map((field) => fieldToColumnType(field.dataTypeID));\n    } catch (e) {\n      if (e instanceof UnsupportedNativeDataType) {\n        throw new _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.DriverAdapterError({\n          kind: \"UnsupportedNativeDataType\",\n          type: e.type\n        });\n      }\n      throw e;\n    }\n    const udtParser = this.pgOptions?.userDefinedTypeParser;\n    if (udtParser) {\n      for (let i = 0; i < fields.length; i++) {\n        const field = fields[i];\n        if (field.dataTypeID >= FIRST_NORMAL_OBJECT_ID && !Object.hasOwn(customParsers, field.dataTypeID)) {\n          for (let j = 0; j < rows.length; j++) {\n            rows[j][i] = await udtParser(field.dataTypeID, rows[j][i], this);\n          }\n        }\n      }\n    }\n    return {\n      columnNames,\n      columnTypes,\n      rows\n    };\n  }\n  /**\n   * Execute a query given as SQL, interpolating the given parameters and\n   * returning the number of affected rows.\n   * Note: Queryable expects a u64, but napi.rs only supports u32.\n   */\n  async executeRaw(query) {\n    const tag = \"[js::execute_raw]\";\n    debug(`${tag} %O`, query);\n    return (await this.performIO(query)).rowCount ?? 0;\n  }\n  /**\n   * Run a query against the database, returning the result set.\n   * Should the query fail due to a connection error, the connection is\n   * marked as unhealthy.\n   */\n  async performIO(query) {\n    const { sql, args } = query;\n    const values = args.map((arg, i) => mapArg(arg, query.argTypes[i]));\n    try {\n      const result = await this.client.query(\n        {\n          text: sql,\n          values,\n          rowMode: \"array\",\n          types: {\n            // This is the error expected:\n            // No overload matches this call.\n            // The last overload gave the following error.\n            // Type '(oid: number, format?: any) => (json: string) => unknown' is not assignable to type '{ <T>(oid: number): TypeParser<string, string | T>; <T>(oid: number, format: \"text\"): TypeParser<string, string | T>; <T>(oid: number, format: \"binary\"): TypeParser<...>; }'.\n            //   Type '(json: string) => unknown' is not assignable to type 'TypeParser<Buffer, any>'.\n            //     Types of parameters 'json' and 'value' are incompatible.\n            //       Type 'Buffer' is not assignable to type 'string'.ts(2769)\n            //\n            // Because pg-types types expect us to handle both binary and text protocol versions,\n            // where as far we can see, pg will ever pass only text version.\n            //\n            // @ts-expect-error\n            getTypeParser: (oid, format) => {\n              if (format === \"text\" && customParsers[oid]) {\n                return customParsers[oid];\n              }\n              return types2.getTypeParser(oid, format);\n            }\n          }\n        },\n        values\n      );\n      return result;\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n  onError(error) {\n    debug(\"Error in performIO: %O\", error);\n    throw new _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.DriverAdapterError(convertDriverError(error));\n  }\n};\nvar PgTransaction = class extends PgQueryable {\n  constructor(client, options, pgOptions, cleanup) {\n    super(client, pgOptions);\n    this.options = options;\n    this.pgOptions = pgOptions;\n    this.cleanup = cleanup;\n  }\n  async commit() {\n    debug(`[js::commit]`);\n    this.cleanup?.();\n    this.client.release();\n  }\n  async rollback() {\n    debug(`[js::rollback]`);\n    this.cleanup?.();\n    this.client.release();\n  }\n};\nvar PrismaPgAdapter = class extends PgQueryable {\n  constructor(client, pgOptions, release) {\n    super(client);\n    this.pgOptions = pgOptions;\n    this.release = release;\n  }\n  async startTransaction(isolationLevel) {\n    const options = {\n      usePhantomQuery: false\n    };\n    const tag = \"[js::startTransaction]\";\n    debug(\"%s options: %O\", tag, options);\n    const conn = await this.client.connect().catch((error) => this.onError(error));\n    const onError = (err) => {\n      debug(`Error from pool connection: ${err.message} %O`, err);\n      this.pgOptions?.onConnectionError?.(err);\n    };\n    conn.on(\"error\", onError);\n    const cleanup = () => {\n      conn.removeListener(\"error\", onError);\n    };\n    try {\n      const tx = new PgTransaction(conn, options, this.pgOptions, cleanup);\n      await tx.executeRaw({ sql: \"BEGIN\", args: [], argTypes: [] });\n      if (isolationLevel) {\n        await tx.executeRaw({\n          sql: `SET TRANSACTION ISOLATION LEVEL ${isolationLevel}`,\n          args: [],\n          argTypes: []\n        });\n      }\n      return tx;\n    } catch (error) {\n      cleanup();\n      conn.release(error);\n      this.onError(error);\n    }\n  }\n  async executeScript(script) {\n    const statements = script.split(\";\").map((stmt) => stmt.trim()).filter((stmt) => stmt.length > 0);\n    for (const stmt of statements) {\n      try {\n        await this.client.query(stmt);\n      } catch (error) {\n        this.onError(error);\n      }\n    }\n  }\n  getConnectionInfo() {\n    return {\n      schemaName: this.pgOptions?.schema,\n      supportsRelationJoins: true\n    };\n  }\n  async dispose() {\n    return this.release?.();\n  }\n  underlyingDriver() {\n    return this.client;\n  }\n};\nvar PrismaPgAdapterFactory = class {\n  constructor(poolOrConfig, options) {\n    this.options = options;\n    if (poolOrConfig instanceof pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool) {\n      this.externalPool = poolOrConfig;\n      this.config = poolOrConfig.options;\n    } else {\n      this.externalPool = null;\n      this.config = poolOrConfig;\n    }\n  }\n  provider = \"postgres\";\n  adapterName = name;\n  config;\n  externalPool;\n  async connect() {\n    const client = this.externalPool ?? new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool(this.config);\n    const onIdleClientError = (err) => {\n      debug(`Error from idle pool client: ${err.message} %O`, err);\n      this.options?.onPoolError?.(err);\n    };\n    client.on(\"error\", onIdleClientError);\n    return new PrismaPgAdapter(client, this.options, async () => {\n      if (this.externalPool) {\n        if (this.options?.disposeExternalPool) {\n          await this.externalPool.end();\n          this.externalPool = null;\n        } else {\n          this.externalPool.removeListener(\"error\", onIdleClientError);\n        }\n      } else {\n        await client.end();\n      }\n    });\n  }\n  async connectToShadowDb() {\n    const conn = await this.connect();\n    const database = `prisma_migrate_shadow_db_${globalThis.crypto.randomUUID()}`;\n    await conn.executeScript(`CREATE DATABASE \"${database}\"`);\n    const client = new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool({ ...this.config, database });\n    return new PrismaPgAdapter(client, void 0, async () => {\n      await conn.executeScript(`DROP DATABASE \"${database}\"`);\n      await client.end();\n    });\n  }\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQHByaXNtYSthZGFwdGVyLXBnQDcuNC4wL25vZGVfbW9kdWxlcy9AcHJpc21hL2FkYXB0ZXItcGcvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUN5RTtBQUNwRDs7QUFFckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQzhEO0FBQzFDO0FBQ2lDO0FBQ3JELE1BQU0sUUFBUSxFQUFFLDBDQUFFO0FBQ2xCLE1BQU0sNENBQTRDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFVBQVU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQTtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxlQUFlLHdFQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQSxnREFBZ0QsRUFBRSxLQUFLLEVBQUU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixFQUFFLEtBQUssRUFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLFFBQVE7QUFDUix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxnREFBUztBQUN0QixZQUFZLG1FQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQixZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxrQkFBa0IsNEVBQWtCO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBLDBCQUEwQixpQkFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRHQUE0RyxrREFBa0Qsa0VBQWtFLHNEQUFzRDtBQUN0UjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDRFQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0NBQXNDO0FBQ2xFO0FBQ0E7QUFDQSxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtDQUFRO0FBQ3BEO0FBQ0EsNENBQTRDLGFBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaURBQWlELCtCQUErQjtBQUNoRixpREFBaUQsU0FBUztBQUMxRCx1QkFBdUIsK0NBQVEsR0FBRywwQkFBMEI7QUFDNUQ7QUFDQSxpREFBaUQsU0FBUztBQUMxRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oeXBvbWF0cml4L0Rlc2t0b3AvUHJvZHVjdGlvbiBQcm9qZWN0cy91LXRvcGlhL3UtdG9waWEtdW5pZmllZC9ub2RlX21vZHVsZXMvLnBucG0vQHByaXNtYSthZGFwdGVyLXBnQDcuNC4wL25vZGVfbW9kdWxlcy9AcHJpc21hL2FkYXB0ZXItcGcvZGlzdC9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3BnLnRzXG5pbXBvcnQgeyBEZWJ1ZywgRHJpdmVyQWRhcHRlckVycm9yIH0gZnJvbSBcIkBwcmlzbWEvZHJpdmVyLWFkYXB0ZXItdXRpbHNcIjtcbmltcG9ydCBwZzIgZnJvbSBcInBnXCI7XG5cbi8vIHBhY2thZ2UuanNvblxudmFyIG5hbWUgPSBcIkBwcmlzbWEvYWRhcHRlci1wZ1wiO1xuXG4vLyBzcmMvY29uc3RhbnRzLnRzXG52YXIgRklSU1RfTk9STUFMX09CSkVDVF9JRCA9IDE2Mzg0O1xuXG4vLyBzcmMvY29udmVyc2lvbi50c1xuaW1wb3J0IHsgQ29sdW1uVHlwZUVudW0gfSBmcm9tIFwiQHByaXNtYS9kcml2ZXItYWRhcHRlci11dGlsc1wiO1xuaW1wb3J0IHBnIGZyb20gXCJwZ1wiO1xuaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VBcnJheSB9IGZyb20gXCJwb3N0Z3Jlcy1hcnJheVwiO1xudmFyIHsgdHlwZXMgfSA9IHBnO1xudmFyIHsgYnVpbHRpbnM6IFNjYWxhckNvbHVtblR5cGUsIGdldFR5cGVQYXJzZXIgfSA9IHR5cGVzO1xudmFyIEFkZGl0aW9uYWxTY2FsYXJDb2x1bW5UeXBlID0ge1xuICBOQU1FOiAxOVxufTtcbnZhciBBcnJheUNvbHVtblR5cGUgPSB7XG4gIEJJVF9BUlJBWTogMTU2MSxcbiAgQk9PTF9BUlJBWTogMWUzLFxuICBCWVRFQV9BUlJBWTogMTAwMSxcbiAgQlBDSEFSX0FSUkFZOiAxMDE0LFxuICBDSEFSX0FSUkFZOiAxMDAyLFxuICBDSURSX0FSUkFZOiA2NTEsXG4gIERBVEVfQVJSQVk6IDExODIsXG4gIEZMT0FUNF9BUlJBWTogMTAyMSxcbiAgRkxPQVQ4X0FSUkFZOiAxMDIyLFxuICBJTkVUX0FSUkFZOiAxMDQxLFxuICBJTlQyX0FSUkFZOiAxMDA1LFxuICBJTlQ0X0FSUkFZOiAxMDA3LFxuICBJTlQ4X0FSUkFZOiAxMDE2LFxuICBKU09OQl9BUlJBWTogMzgwNyxcbiAgSlNPTl9BUlJBWTogMTk5LFxuICBNT05FWV9BUlJBWTogNzkxLFxuICBOVU1FUklDX0FSUkFZOiAxMjMxLFxuICBPSURfQVJSQVk6IDEwMjgsXG4gIFRFWFRfQVJSQVk6IDEwMDksXG4gIFRJTUVTVEFNUF9BUlJBWTogMTExNSxcbiAgVElNRVNUQU1QVFpfQVJSQVk6IDExODUsXG4gIFRJTUVfQVJSQVk6IDExODMsXG4gIFVVSURfQVJSQVk6IDI5NTEsXG4gIFZBUkJJVF9BUlJBWTogMTU2MyxcbiAgVkFSQ0hBUl9BUlJBWTogMTAxNSxcbiAgWE1MX0FSUkFZOiAxNDNcbn07XG52YXIgVW5zdXBwb3J0ZWROYXRpdmVEYXRhVHlwZSA9IGNsYXNzIF9VbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlIGV4dGVuZHMgRXJyb3Ige1xuICAvLyBtYXAgb2YgdHlwZSBjb2RlcyB0byB0eXBlIG5hbWVzXG4gIHN0YXRpYyB0eXBlTmFtZXMgPSB7XG4gICAgMTY6IFwiYm9vbFwiLFxuICAgIDE3OiBcImJ5dGVhXCIsXG4gICAgMTg6IFwiY2hhclwiLFxuICAgIDE5OiBcIm5hbWVcIixcbiAgICAyMDogXCJpbnQ4XCIsXG4gICAgMjE6IFwiaW50MlwiLFxuICAgIDIyOiBcImludDJ2ZWN0b3JcIixcbiAgICAyMzogXCJpbnQ0XCIsXG4gICAgMjQ6IFwicmVncHJvY1wiLFxuICAgIDI1OiBcInRleHRcIixcbiAgICAyNjogXCJvaWRcIixcbiAgICAyNzogXCJ0aWRcIixcbiAgICAyODogXCJ4aWRcIixcbiAgICAyOTogXCJjaWRcIixcbiAgICAzMDogXCJvaWR2ZWN0b3JcIixcbiAgICAzMjogXCJwZ19kZGxfY29tbWFuZFwiLFxuICAgIDcxOiBcInBnX3R5cGVcIixcbiAgICA3NTogXCJwZ19hdHRyaWJ1dGVcIixcbiAgICA4MTogXCJwZ19wcm9jXCIsXG4gICAgODM6IFwicGdfY2xhc3NcIixcbiAgICAxMTQ6IFwianNvblwiLFxuICAgIDE0MjogXCJ4bWxcIixcbiAgICAxOTQ6IFwicGdfbm9kZV90cmVlXCIsXG4gICAgMjY5OiBcInRhYmxlX2FtX2hhbmRsZXJcIixcbiAgICAzMjU6IFwiaW5kZXhfYW1faGFuZGxlclwiLFxuICAgIDYwMDogXCJwb2ludFwiLFxuICAgIDYwMTogXCJsc2VnXCIsXG4gICAgNjAyOiBcInBhdGhcIixcbiAgICA2MDM6IFwiYm94XCIsXG4gICAgNjA0OiBcInBvbHlnb25cIixcbiAgICA2Mjg6IFwibGluZVwiLFxuICAgIDY1MDogXCJjaWRyXCIsXG4gICAgNzAwOiBcImZsb2F0NFwiLFxuICAgIDcwMTogXCJmbG9hdDhcIixcbiAgICA3MDU6IFwidW5rbm93blwiLFxuICAgIDcxODogXCJjaXJjbGVcIixcbiAgICA3NzQ6IFwibWFjYWRkcjhcIixcbiAgICA3OTA6IFwibW9uZXlcIixcbiAgICA4Mjk6IFwibWFjYWRkclwiLFxuICAgIDg2OTogXCJpbmV0XCIsXG4gICAgMTAzMzogXCJhY2xpdGVtXCIsXG4gICAgMTA0MjogXCJicGNoYXJcIixcbiAgICAxMDQzOiBcInZhcmNoYXJcIixcbiAgICAxMDgyOiBcImRhdGVcIixcbiAgICAxMDgzOiBcInRpbWVcIixcbiAgICAxMTE0OiBcInRpbWVzdGFtcFwiLFxuICAgIDExODQ6IFwidGltZXN0YW1wdHpcIixcbiAgICAxMTg2OiBcImludGVydmFsXCIsXG4gICAgMTI2NjogXCJ0aW1ldHpcIixcbiAgICAxNTYwOiBcImJpdFwiLFxuICAgIDE1NjI6IFwidmFyYml0XCIsXG4gICAgMTcwMDogXCJudW1lcmljXCIsXG4gICAgMTc5MDogXCJyZWZjdXJzb3JcIixcbiAgICAyMjAyOiBcInJlZ3Byb2NlZHVyZVwiLFxuICAgIDIyMDM6IFwicmVnb3BlclwiLFxuICAgIDIyMDQ6IFwicmVnb3BlcmF0b3JcIixcbiAgICAyMjA1OiBcInJlZ2NsYXNzXCIsXG4gICAgMjIwNjogXCJyZWd0eXBlXCIsXG4gICAgMjI0OTogXCJyZWNvcmRcIixcbiAgICAyMjc1OiBcImNzdHJpbmdcIixcbiAgICAyMjc2OiBcImFueVwiLFxuICAgIDIyNzc6IFwiYW55YXJyYXlcIixcbiAgICAyMjc4OiBcInZvaWRcIixcbiAgICAyMjc5OiBcInRyaWdnZXJcIixcbiAgICAyMjgwOiBcImxhbmd1YWdlX2hhbmRsZXJcIixcbiAgICAyMjgxOiBcImludGVybmFsXCIsXG4gICAgMjI4MzogXCJhbnllbGVtZW50XCIsXG4gICAgMjI4NzogXCJfcmVjb3JkXCIsXG4gICAgMjc3NjogXCJhbnlub25hcnJheVwiLFxuICAgIDI5NTA6IFwidXVpZFwiLFxuICAgIDI5NzA6IFwidHhpZF9zbmFwc2hvdFwiLFxuICAgIDMxMTU6IFwiZmR3X2hhbmRsZXJcIixcbiAgICAzMjIwOiBcInBnX2xzblwiLFxuICAgIDMzMTA6IFwidHNtX2hhbmRsZXJcIixcbiAgICAzMzYxOiBcInBnX25kaXN0aW5jdFwiLFxuICAgIDM0MDI6IFwicGdfZGVwZW5kZW5jaWVzXCIsXG4gICAgMzUwMDogXCJhbnllbnVtXCIsXG4gICAgMzYxNDogXCJ0c3ZlY3RvclwiLFxuICAgIDM2MTU6IFwidHNxdWVyeVwiLFxuICAgIDM2NDI6IFwiZ3RzdmVjdG9yXCIsXG4gICAgMzczNDogXCJyZWdjb25maWdcIixcbiAgICAzNzY5OiBcInJlZ2RpY3Rpb25hcnlcIixcbiAgICAzODAyOiBcImpzb25iXCIsXG4gICAgMzgzMTogXCJhbnlyYW5nZVwiLFxuICAgIDM4Mzg6IFwiZXZlbnRfdHJpZ2dlclwiLFxuICAgIDM5MDQ6IFwiaW50NHJhbmdlXCIsXG4gICAgMzkwNjogXCJudW1yYW5nZVwiLFxuICAgIDM5MDg6IFwidHNyYW5nZVwiLFxuICAgIDM5MTA6IFwidHN0enJhbmdlXCIsXG4gICAgMzkxMjogXCJkYXRlcmFuZ2VcIixcbiAgICAzOTI2OiBcImludDhyYW5nZVwiLFxuICAgIDQwNzI6IFwianNvbnBhdGhcIixcbiAgICA0MDg5OiBcInJlZ25hbWVzcGFjZVwiLFxuICAgIDQwOTY6IFwicmVncm9sZVwiLFxuICAgIDQxOTE6IFwicmVnY29sbGF0aW9uXCIsXG4gICAgNDQ1MTogXCJpbnQ0bXVsdGlyYW5nZVwiLFxuICAgIDQ1MzI6IFwibnVtbXVsdGlyYW5nZVwiLFxuICAgIDQ1MzM6IFwidHNtdWx0aXJhbmdlXCIsXG4gICAgNDUzNDogXCJ0c3R6bXVsdGlyYW5nZVwiLFxuICAgIDQ1MzU6IFwiZGF0ZW11bHRpcmFuZ2VcIixcbiAgICA0NTM2OiBcImludDhtdWx0aXJhbmdlXCIsXG4gICAgNDUzNzogXCJhbnltdWx0aXJhbmdlXCIsXG4gICAgNDUzODogXCJhbnljb21wYXRpYmxlbXVsdGlyYW5nZVwiLFxuICAgIDQ2MDA6IFwicGdfYnJpbl9ibG9vbV9zdW1tYXJ5XCIsXG4gICAgNDYwMTogXCJwZ19icmluX21pbm1heF9tdWx0aV9zdW1tYXJ5XCIsXG4gICAgNTAxNzogXCJwZ19tY3ZfbGlzdFwiLFxuICAgIDUwMzg6IFwicGdfc25hcHNob3RcIixcbiAgICA1MDY5OiBcInhpZDhcIixcbiAgICA1MDc3OiBcImFueWNvbXBhdGlibGVcIixcbiAgICA1MDc4OiBcImFueWNvbXBhdGlibGVhcnJheVwiLFxuICAgIDUwNzk6IFwiYW55Y29tcGF0aWJsZW5vbmFycmF5XCIsXG4gICAgNTA4MDogXCJhbnljb21wYXRpYmxlcmFuZ2VcIlxuICB9O1xuICB0eXBlO1xuICBjb25zdHJ1Y3Rvcihjb2RlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSBfVW5zdXBwb3J0ZWROYXRpdmVEYXRhVHlwZS50eXBlTmFtZXNbY29kZV0gfHwgXCJVbmtub3duXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gYFVuc3VwcG9ydGVkIGNvbHVtbiB0eXBlICR7dGhpcy50eXBlfWA7XG4gIH1cbn07XG5mdW5jdGlvbiBmaWVsZFRvQ29sdW1uVHlwZShmaWVsZFR5cGVJZCkge1xuICBzd2l0Y2ggKGZpZWxkVHlwZUlkKSB7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLklOVDI6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLklOVDQ6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSW50MzI7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLklOVDg6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSW50NjQ7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkZMT0FUNDpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5GbG9hdDtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuRkxPQVQ4OlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRvdWJsZTtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuQk9PTDpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5Cb29sZWFuO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5EQVRFOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRhdGU7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlRJTUU6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlRJTUVUWjpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5UaW1lO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5USU1FU1RBTVA6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlRJTUVTVEFNUFRaOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRhdGVUaW1lO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5OVU1FUklDOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5NT05FWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5OdW1lcmljO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5KU09OOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5KU09OQjpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5Kc29uO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5VVUlEOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlV1aWQ7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLk9JRDpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5JbnQ2NDtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuQlBDSEFSOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5URVhUOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5WQVJDSEFSOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5CSVQ6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlZBUkJJVDpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuSU5FVDpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuQ0lEUjpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuWE1MOlxuICAgIGNhc2UgQWRkaXRpb25hbFNjYWxhckNvbHVtblR5cGUuTkFNRTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5UZXh0O1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5CWVRFQTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5CeXRlcztcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5JTlQyX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLklOVDRfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSW50MzJBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5GTE9BVDRfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRmxvYXRBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5GTE9BVDhfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRG91YmxlQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuTlVNRVJJQ19BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5NT05FWV9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5OdW1lcmljQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuQk9PTF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5Cb29sZWFuQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuQ0hBUl9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5DaGFyYWN0ZXJBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5CUENIQVJfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVEVYVF9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5WQVJDSEFSX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlZBUkJJVF9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5CSVRfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuSU5FVF9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5DSURSX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlhNTF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5UZXh0QXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuREFURV9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5EYXRlQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVElNRV9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5UaW1lQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVElNRVNUQU1QX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRhdGVUaW1lQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVElNRVNUQU1QVFpfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRGF0ZVRpbWVBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5KU09OX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkpTT05CX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkpzb25BcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5CWVRFQV9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5CeXRlc0FycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlVVSURfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVXVpZEFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLklOVDhfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuT0lEX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkludDY0QXJyYXk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmIChmaWVsZFR5cGVJZCA+PSBGSVJTVF9OT1JNQUxfT0JKRUNUX0lEKSB7XG4gICAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5UZXh0O1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTmF0aXZlRGF0YVR5cGUoZmllbGRUeXBlSWQpO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVfYXJyYXkoZWxlbWVudF9ub3JtYWxpemVyKSB7XG4gIHJldHVybiAoc3RyKSA9PiBwYXJzZUFycmF5KHN0ciwgZWxlbWVudF9ub3JtYWxpemVyKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9udW1lcmljKG51bWVyaWMpIHtcbiAgcmV0dXJuIG51bWVyaWM7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfZGF0ZShkYXRlKSB7XG4gIHJldHVybiBkYXRlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX3RpbWVzdGFtcCh0aW1lKSB7XG4gIHJldHVybiBgJHt0aW1lLnJlcGxhY2UoXCIgXCIsIFwiVFwiKX0rMDA6MDBgO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX3RpbWVzdGFtcHR6KHRpbWUpIHtcbiAgcmV0dXJuIHRpbWUucmVwbGFjZShcIiBcIiwgXCJUXCIpLnJlcGxhY2UoL1srLV1cXGR7Mn0oOlxcZHsyfSk/JC8sIFwiKzAwOjAwXCIpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX3RpbWUodGltZSkge1xuICByZXR1cm4gdGltZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV90aW1leih0aW1lKSB7XG4gIHJldHVybiB0aW1lLnJlcGxhY2UoL1srLV1cXGR7Mn0oOlxcZHsyfSk/JC8sIFwiXCIpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX21vbmV5KG1vbmV5KSB7XG4gIHJldHVybiBtb25leS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV94bWwoeG1sKSB7XG4gIHJldHVybiB4bWw7XG59XG5mdW5jdGlvbiB0b0pzb24oanNvbikge1xuICByZXR1cm4ganNvbjtcbn1cbnZhciBwYXJzZVBnQnl0ZXMgPSBnZXRUeXBlUGFyc2VyKFNjYWxhckNvbHVtblR5cGUuQllURUEpO1xudmFyIG5vcm1hbGl6ZUJ5dGVhQXJyYXkgPSBnZXRUeXBlUGFyc2VyKEFycmF5Q29sdW1uVHlwZS5CWVRFQV9BUlJBWSk7XG5mdW5jdGlvbiBjb252ZXJ0Qnl0ZXMoc2VyaWFsaXplZEJ5dGVzKSB7XG4gIHJldHVybiBwYXJzZVBnQnl0ZXMoc2VyaWFsaXplZEJ5dGVzKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUJpdChiaXQpIHtcbiAgcmV0dXJuIGJpdDtcbn1cbnZhciBjdXN0b21QYXJzZXJzID0ge1xuICBbU2NhbGFyQ29sdW1uVHlwZS5OVU1FUklDXTogbm9ybWFsaXplX251bWVyaWMsXG4gIFtBcnJheUNvbHVtblR5cGUuTlVNRVJJQ19BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfbnVtZXJpYyksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLlRJTUVdOiBub3JtYWxpemVfdGltZSxcbiAgW0FycmF5Q29sdW1uVHlwZS5USU1FX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV90aW1lKSxcbiAgW1NjYWxhckNvbHVtblR5cGUuVElNRVRaXTogbm9ybWFsaXplX3RpbWV6LFxuICBbU2NhbGFyQ29sdW1uVHlwZS5EQVRFXTogbm9ybWFsaXplX2RhdGUsXG4gIFtBcnJheUNvbHVtblR5cGUuREFURV9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfZGF0ZSksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLlRJTUVTVEFNUF06IG5vcm1hbGl6ZV90aW1lc3RhbXAsXG4gIFtBcnJheUNvbHVtblR5cGUuVElNRVNUQU1QX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV90aW1lc3RhbXApLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5USU1FU1RBTVBUWl06IG5vcm1hbGl6ZV90aW1lc3RhbXB0eixcbiAgW0FycmF5Q29sdW1uVHlwZS5USU1FU1RBTVBUWl9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfdGltZXN0YW1wdHopLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5NT05FWV06IG5vcm1hbGl6ZV9tb25leSxcbiAgW0FycmF5Q29sdW1uVHlwZS5NT05FWV9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfbW9uZXkpLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5KU09OXTogdG9Kc29uLFxuICBbQXJyYXlDb2x1bW5UeXBlLkpTT05fQVJSQVldOiBub3JtYWxpemVfYXJyYXkodG9Kc29uKSxcbiAgW1NjYWxhckNvbHVtblR5cGUuSlNPTkJdOiB0b0pzb24sXG4gIFtBcnJheUNvbHVtblR5cGUuSlNPTkJfQVJSQVldOiBub3JtYWxpemVfYXJyYXkodG9Kc29uKSxcbiAgW1NjYWxhckNvbHVtblR5cGUuQllURUFdOiBjb252ZXJ0Qnl0ZXMsXG4gIFtBcnJheUNvbHVtblR5cGUuQllURUFfQVJSQVldOiBub3JtYWxpemVCeXRlYUFycmF5LFxuICBbQXJyYXlDb2x1bW5UeXBlLkJJVF9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVCaXQpLFxuICBbQXJyYXlDb2x1bW5UeXBlLlZBUkJJVF9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVCaXQpLFxuICBbQXJyYXlDb2x1bW5UeXBlLlhNTF9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfeG1sKVxufTtcbmZ1bmN0aW9uIG1hcEFyZyhhcmcsIGFyZ1R5cGUpIHtcbiAgaWYgKGFyZyA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnVHlwZS5hcml0eSA9PT0gXCJsaXN0XCIpIHtcbiAgICByZXR1cm4gYXJnLm1hcCgodmFsdWUpID0+IG1hcEFyZyh2YWx1ZSwgYXJnVHlwZSkpO1xuICB9XG4gIGlmICh0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiICYmIGFyZ1R5cGUuc2NhbGFyVHlwZSA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgYXJnID0gbmV3IERhdGUoYXJnKTtcbiAgfVxuICBpZiAoYXJnIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHN3aXRjaCAoYXJnVHlwZS5kYlR5cGUpIHtcbiAgICAgIGNhc2UgXCJUSU1FXCI6XG4gICAgICBjYXNlIFwiVElNRVRaXCI6XG4gICAgICAgIHJldHVybiBmb3JtYXRUaW1lKGFyZyk7XG4gICAgICBjYXNlIFwiREFURVwiOlxuICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZShhcmcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdERhdGVUaW1lKGFyZyk7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiICYmIGFyZ1R5cGUuc2NhbGFyVHlwZSA9PT0gXCJieXRlc1wiKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGFyZywgXCJiYXNlNjRcIik7XG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhcmcpKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGFyZy5idWZmZXIsIGFyZy5ieXRlT2Zmc2V0LCBhcmcuYnl0ZUxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cbmZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lKGRhdGUpIHtcbiAgY29uc3QgcGFkID0gKG4sIHogPSAyKSA9PiBTdHJpbmcobikucGFkU3RhcnQoeiwgXCIwXCIpO1xuICBjb25zdCBtcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XG4gIHJldHVybiBwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSArIFwiLVwiICsgcGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENEYXRlKCkpICsgXCIgXCIgKyBwYWQoZGF0ZS5nZXRVVENIb3VycygpKSArIFwiOlwiICsgcGFkKGRhdGUuZ2V0VVRDTWludXRlcygpKSArIFwiOlwiICsgcGFkKGRhdGUuZ2V0VVRDU2Vjb25kcygpKSArIChtcyA/IFwiLlwiICsgU3RyaW5nKG1zKS5wYWRTdGFydCgzLCBcIjBcIikgOiBcIlwiKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICBjb25zdCBwYWQgPSAobiwgeiA9IDIpID0+IFN0cmluZyhuKS5wYWRTdGFydCh6LCBcIjBcIik7XG4gIHJldHVybiBwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSArIFwiLVwiICsgcGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENEYXRlKCkpO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlKSB7XG4gIGNvbnN0IHBhZCA9IChuLCB6ID0gMikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KHosIFwiMFwiKTtcbiAgY29uc3QgbXMgPSBkYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xuICByZXR1cm4gcGFkKGRhdGUuZ2V0VVRDSG91cnMoKSkgKyBcIjpcIiArIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSkgKyBcIjpcIiArIHBhZChkYXRlLmdldFVUQ1NlY29uZHMoKSkgKyAobXMgPyBcIi5cIiArIFN0cmluZyhtcykucGFkU3RhcnQoMywgXCIwXCIpIDogXCJcIik7XG59XG5cbi8vIHNyYy9lcnJvcnMudHNcbnZhciBUTFNfRVJST1JTID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcIlVOQUJMRV9UT19HRVRfSVNTVUVSX0NFUlRcIixcbiAgXCJVTkFCTEVfVE9fR0VUX0NSTFwiLFxuICBcIlVOQUJMRV9UT19ERUNSWVBUX0NFUlRfU0lHTkFUVVJFXCIsXG4gIFwiVU5BQkxFX1RPX0RFQ1JZUFRfQ1JMX1NJR05BVFVSRVwiLFxuICBcIlVOQUJMRV9UT19ERUNPREVfSVNTVUVSX1BVQkxJQ19LRVlcIixcbiAgXCJDRVJUX1NJR05BVFVSRV9GQUlMVVJFXCIsXG4gIFwiQ1JMX1NJR05BVFVSRV9GQUlMVVJFXCIsXG4gIFwiQ0VSVF9OT1RfWUVUX1ZBTElEXCIsXG4gIFwiQ0VSVF9IQVNfRVhQSVJFRFwiLFxuICBcIkNSTF9OT1RfWUVUX1ZBTElEXCIsXG4gIFwiQ1JMX0hBU19FWFBJUkVEXCIsXG4gIFwiRVJST1JfSU5fQ0VSVF9OT1RfQkVGT1JFX0ZJRUxEXCIsXG4gIFwiRVJST1JfSU5fQ0VSVF9OT1RfQUZURVJfRklFTERcIixcbiAgXCJFUlJPUl9JTl9DUkxfTEFTVF9VUERBVEVfRklFTERcIixcbiAgXCJFUlJPUl9JTl9DUkxfTkVYVF9VUERBVEVfRklFTERcIixcbiAgXCJERVBUSF9aRVJPX1NFTEZfU0lHTkVEX0NFUlRcIixcbiAgXCJTRUxGX1NJR05FRF9DRVJUX0lOX0NIQUlOXCIsXG4gIFwiVU5BQkxFX1RPX0dFVF9JU1NVRVJfQ0VSVF9MT0NBTExZXCIsXG4gIFwiVU5BQkxFX1RPX1ZFUklGWV9MRUFGX1NJR05BVFVSRVwiLFxuICBcIkNFUlRfQ0hBSU5fVE9PX0xPTkdcIixcbiAgXCJDRVJUX1JFVk9LRURcIixcbiAgXCJJTlZBTElEX0NBXCIsXG4gIFwiSU5WQUxJRF9QVVJQT1NFXCIsXG4gIFwiQ0VSVF9VTlRSVVNURURcIixcbiAgXCJDRVJUX1JFSkVDVEVEXCIsXG4gIFwiSE9TVE5BTUVfTUlTTUFUQ0hcIixcbiAgXCJFUlJfVExTX0NFUlRfQUxUTkFNRV9GT1JNQVRcIixcbiAgXCJFUlJfVExTX0NFUlRfQUxUTkFNRV9JTlZBTElEXCJcbl0pO1xudmFyIFNPQ0tFVF9FUlJPUlMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXCJFTk9URk9VTkRcIiwgXCJFQ09OTlJFRlVTRURcIiwgXCJFQ09OTlJFU0VUXCIsIFwiRVRJTUVET1VUXCJdKTtcbmZ1bmN0aW9uIGNvbnZlcnREcml2ZXJFcnJvcihlcnJvcikge1xuICBpZiAoaXNTb2NrZXRFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gbWFwU29ja2V0RXJyb3IoZXJyb3IpO1xuICB9XG4gIGlmIChpc1Rsc0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBcIlRsc0Nvbm5lY3Rpb25FcnJvclwiLFxuICAgICAgcmVhc29uOiBlcnJvci5tZXNzYWdlXG4gICAgfTtcbiAgfVxuICBpZiAoaXNEcml2ZXJFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWxDb2RlOiBlcnJvci5jb2RlLFxuICAgICAgb3JpZ2luYWxNZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgLi4ubWFwRHJpdmVyRXJyb3IoZXJyb3IpXG4gICAgfTtcbiAgfVxuICB0aHJvdyBlcnJvcjtcbn1cbmZ1bmN0aW9uIG1hcERyaXZlckVycm9yKGVycm9yKSB7XG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgIGNhc2UgXCIyMjAwMVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJMZW5ndGhNaXNtYXRjaFwiLFxuICAgICAgICBjb2x1bW46IGVycm9yLmNvbHVtblxuICAgICAgfTtcbiAgICBjYXNlIFwiMjIwMDNcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiVmFsdWVPdXRPZlJhbmdlXCIsXG4gICAgICAgIGNhdXNlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIGNhc2UgXCIyMlAwMlwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJJbnZhbGlkSW5wdXRWYWx1ZVwiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIGNhc2UgXCIyMzUwNVwiOiB7XG4gICAgICBjb25zdCBmaWVsZHMgPSBlcnJvci5kZXRhaWw/Lm1hdGNoKC9LZXkgXFwoKFteKV0rKVxcKS8pPy5hdCgxKT8uc3BsaXQoXCIsIFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiVW5pcXVlQ29uc3RyYWludFZpb2xhdGlvblwiLFxuICAgICAgICBjb25zdHJhaW50OiBmaWVsZHMgIT09IHZvaWQgMCA/IHsgZmllbGRzIH0gOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgXCIyMzUwMlwiOiB7XG4gICAgICBjb25zdCBmaWVsZHMgPSBlcnJvci5kZXRhaWw/Lm1hdGNoKC9LZXkgXFwoKFteKV0rKVxcKS8pPy5hdCgxKT8uc3BsaXQoXCIsIFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiTnVsbENvbnN0cmFpbnRWaW9sYXRpb25cIixcbiAgICAgICAgY29uc3RyYWludDogZmllbGRzICE9PSB2b2lkIDAgPyB7IGZpZWxkcyB9IDogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiMjM1MDNcIjoge1xuICAgICAgbGV0IGNvbnN0cmFpbnQ7XG4gICAgICBpZiAoZXJyb3IuY29sdW1uKSB7XG4gICAgICAgIGNvbnN0cmFpbnQgPSB7IGZpZWxkczogW2Vycm9yLmNvbHVtbl0gfTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29uc3RyYWludCkge1xuICAgICAgICBjb25zdHJhaW50ID0geyBpbmRleDogZXJyb3IuY29uc3RyYWludCB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJGb3JlaWduS2V5Q29uc3RyYWludFZpb2xhdGlvblwiLFxuICAgICAgICBjb25zdHJhaW50XG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiM0QwMDBcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VEb2VzTm90RXhpc3RcIixcbiAgICAgICAgZGI6IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIgXCIpLmF0KDEpPy5zcGxpdCgnXCInKS5hdCgxKVxuICAgICAgfTtcbiAgICBjYXNlIFwiMjgwMDBcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VBY2Nlc3NEZW5pZWRcIixcbiAgICAgICAgZGI6IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIsXCIpLmZpbmQoKHMpID0+IHMuc3RhcnRzV2l0aChcIiBkYXRhYmFzZVwiKSk/LnNwbGl0KCdcIicpLmF0KDEpXG4gICAgICB9O1xuICAgIGNhc2UgXCIyOFAwMVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJBdXRoZW50aWNhdGlvbkZhaWxlZFwiLFxuICAgICAgICB1c2VyOiBlcnJvci5tZXNzYWdlLnNwbGl0KFwiIFwiKS5wb3AoKT8uc3BsaXQoJ1wiJykuYXQoMSlcbiAgICAgIH07XG4gICAgY2FzZSBcIjQwMDAxXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlRyYW5zYWN0aW9uV3JpdGVDb25mbGljdFwiXG4gICAgICB9O1xuICAgIGNhc2UgXCI0MlAwMVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJUYWJsZURvZXNOb3RFeGlzdFwiLFxuICAgICAgICB0YWJsZTogZXJyb3IubWVzc2FnZS5zcGxpdChcIiBcIikuYXQoMSk/LnNwbGl0KCdcIicpLmF0KDEpXG4gICAgICB9O1xuICAgIGNhc2UgXCI0MjcwM1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJDb2x1bW5Ob3RGb3VuZFwiLFxuICAgICAgICBjb2x1bW46IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIgXCIpLmF0KDEpPy5zcGxpdCgnXCInKS5hdCgxKVxuICAgICAgfTtcbiAgICBjYXNlIFwiNDJQMDRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VBbHJlYWR5RXhpc3RzXCIsXG4gICAgICAgIGRiOiBlcnJvci5tZXNzYWdlLnNwbGl0KFwiIFwiKS5hdCgxKT8uc3BsaXQoJ1wiJykuYXQoMSlcbiAgICAgIH07XG4gICAgY2FzZSBcIjUzMzAwXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlRvb01hbnlDb25uZWN0aW9uc1wiLFxuICAgICAgICBjYXVzZTogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJwb3N0Z3Jlc1wiLFxuICAgICAgICBjb2RlOiBlcnJvci5jb2RlID8/IFwiTi9BXCIsXG4gICAgICAgIHNldmVyaXR5OiBlcnJvci5zZXZlcml0eSA/PyBcIk4vQVwiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBkZXRhaWw6IGVycm9yLmRldGFpbCxcbiAgICAgICAgY29sdW1uOiBlcnJvci5jb2x1bW4sXG4gICAgICAgIGhpbnQ6IGVycm9yLmhpbnRcbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRHJpdmVyRXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5zZXZlcml0eSA9PT0gXCJzdHJpbmdcIiAmJiAodHlwZW9mIGVycm9yLmRldGFpbCA9PT0gXCJzdHJpbmdcIiB8fCBlcnJvci5kZXRhaWwgPT09IHZvaWQgMCkgJiYgKHR5cGVvZiBlcnJvci5jb2x1bW4gPT09IFwic3RyaW5nXCIgfHwgZXJyb3IuY29sdW1uID09PSB2b2lkIDApICYmICh0eXBlb2YgZXJyb3IuaGludCA9PT0gXCJzdHJpbmdcIiB8fCBlcnJvci5oaW50ID09PSB2b2lkIDApO1xufVxuZnVuY3Rpb24gbWFwU29ja2V0RXJyb3IoZXJyb3IpIHtcbiAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgY2FzZSBcIkVOT1RGT1VORFwiOlxuICAgIGNhc2UgXCJFQ09OTlJFRlVTRURcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VOb3RSZWFjaGFibGVcIixcbiAgICAgICAgaG9zdDogZXJyb3IuYWRkcmVzcyA/PyBlcnJvci5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogZXJyb3IucG9ydFxuICAgICAgfTtcbiAgICBjYXNlIFwiRUNPTk5SRVNFVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJDb25uZWN0aW9uQ2xvc2VkXCJcbiAgICAgIH07XG4gICAgY2FzZSBcIkVUSU1FRE9VVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJTb2NrZXRUaW1lb3V0XCJcbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU29ja2V0RXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5zeXNjYWxsID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5lcnJubyA9PT0gXCJudW1iZXJcIiAmJiBTT0NLRVRfRVJST1JTLmhhcyhlcnJvci5jb2RlKTtcbn1cbmZ1bmN0aW9uIGlzVGxzRXJyb3IoZXJyb3IpIHtcbiAgaWYgKHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIFRMU19FUlJPUlMuaGFzKGVycm9yLmNvZGUpO1xuICB9XG4gIHN3aXRjaCAoZXJyb3IubWVzc2FnZSkge1xuICAgIGNhc2UgXCJUaGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgU1NMIGNvbm5lY3Rpb25zXCI6XG4gICAgY2FzZSBcIlRoZXJlIHdhcyBhbiBlcnJvciBlc3RhYmxpc2hpbmcgYW4gU1NMIGNvbm5lY3Rpb25cIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gc3JjL3BnLnRzXG52YXIgdHlwZXMyID0gcGcyLnR5cGVzO1xudmFyIGRlYnVnID0gRGVidWcoXCJwcmlzbWE6ZHJpdmVyLWFkYXB0ZXI6cGdcIik7XG52YXIgUGdRdWVyeWFibGUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcGdPcHRpb25zKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5wZ09wdGlvbnMgPSBwZ09wdGlvbnM7XG4gIH1cbiAgcHJvdmlkZXIgPSBcInBvc3RncmVzXCI7XG4gIGFkYXB0ZXJOYW1lID0gbmFtZTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBxdWVyeSBnaXZlbiBhcyBTUUwsIGludGVycG9sYXRpbmcgdGhlIGdpdmVuIHBhcmFtZXRlcnMuXG4gICAqL1xuICBhc3luYyBxdWVyeVJhdyhxdWVyeSkge1xuICAgIGNvbnN0IHRhZyA9IFwiW2pzOjpxdWVyeV9yYXddXCI7XG4gICAgZGVidWcoYCR7dGFnfSAlT2AsIHF1ZXJ5KTtcbiAgICBjb25zdCB7IGZpZWxkcywgcm93cyB9ID0gYXdhaXQgdGhpcy5wZXJmb3JtSU8ocXVlcnkpO1xuICAgIGNvbnN0IGNvbHVtbk5hbWVzID0gZmllbGRzLm1hcCgoZmllbGQpID0+IGZpZWxkLm5hbWUpO1xuICAgIGxldCBjb2x1bW5UeXBlcyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBjb2x1bW5UeXBlcyA9IGZpZWxkcy5tYXAoKGZpZWxkKSA9PiBmaWVsZFRvQ29sdW1uVHlwZShmaWVsZC5kYXRhVHlwZUlEKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBEcml2ZXJBZGFwdGVyRXJyb3Ioe1xuICAgICAgICAgIGtpbmQ6IFwiVW5zdXBwb3J0ZWROYXRpdmVEYXRhVHlwZVwiLFxuICAgICAgICAgIHR5cGU6IGUudHlwZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGNvbnN0IHVkdFBhcnNlciA9IHRoaXMucGdPcHRpb25zPy51c2VyRGVmaW5lZFR5cGVQYXJzZXI7XG4gICAgaWYgKHVkdFBhcnNlcikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICAgIGlmIChmaWVsZC5kYXRhVHlwZUlEID49IEZJUlNUX05PUk1BTF9PQkpFQ1RfSUQgJiYgIU9iamVjdC5oYXNPd24oY3VzdG9tUGFyc2VycywgZmllbGQuZGF0YVR5cGVJRCkpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHJvd3Nbal1baV0gPSBhd2FpdCB1ZHRQYXJzZXIoZmllbGQuZGF0YVR5cGVJRCwgcm93c1tqXVtpXSwgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5OYW1lcyxcbiAgICAgIGNvbHVtblR5cGVzLFxuICAgICAgcm93c1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBxdWVyeSBnaXZlbiBhcyBTUUwsIGludGVycG9sYXRpbmcgdGhlIGdpdmVuIHBhcmFtZXRlcnMgYW5kXG4gICAqIHJldHVybmluZyB0aGUgbnVtYmVyIG9mIGFmZmVjdGVkIHJvd3MuXG4gICAqIE5vdGU6IFF1ZXJ5YWJsZSBleHBlY3RzIGEgdTY0LCBidXQgbmFwaS5ycyBvbmx5IHN1cHBvcnRzIHUzMi5cbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVSYXcocXVlcnkpIHtcbiAgICBjb25zdCB0YWcgPSBcIltqczo6ZXhlY3V0ZV9yYXddXCI7XG4gICAgZGVidWcoYCR7dGFnfSAlT2AsIHF1ZXJ5KTtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMucGVyZm9ybUlPKHF1ZXJ5KSkucm93Q291bnQgPz8gMDtcbiAgfVxuICAvKipcbiAgICogUnVuIGEgcXVlcnkgYWdhaW5zdCB0aGUgZGF0YWJhc2UsIHJldHVybmluZyB0aGUgcmVzdWx0IHNldC5cbiAgICogU2hvdWxkIHRoZSBxdWVyeSBmYWlsIGR1ZSB0byBhIGNvbm5lY3Rpb24gZXJyb3IsIHRoZSBjb25uZWN0aW9uIGlzXG4gICAqIG1hcmtlZCBhcyB1bmhlYWx0aHkuXG4gICAqL1xuICBhc3luYyBwZXJmb3JtSU8ocXVlcnkpIHtcbiAgICBjb25zdCB7IHNxbCwgYXJncyB9ID0gcXVlcnk7XG4gICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZywgaSkgPT4gbWFwQXJnKGFyZywgcXVlcnkuYXJnVHlwZXNbaV0pKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQucXVlcnkoXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBzcWwsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgIHJvd01vZGU6IFwiYXJyYXlcIixcbiAgICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZXJyb3IgZXhwZWN0ZWQ6XG4gICAgICAgICAgICAvLyBObyBvdmVybG9hZCBtYXRjaGVzIHRoaXMgY2FsbC5cbiAgICAgICAgICAgIC8vIFRoZSBsYXN0IG92ZXJsb2FkIGdhdmUgdGhlIGZvbGxvd2luZyBlcnJvci5cbiAgICAgICAgICAgIC8vIFR5cGUgJyhvaWQ6IG51bWJlciwgZm9ybWF0PzogYW55KSA9PiAoanNvbjogc3RyaW5nKSA9PiB1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICd7IDxUPihvaWQ6IG51bWJlcik6IFR5cGVQYXJzZXI8c3RyaW5nLCBzdHJpbmcgfCBUPjsgPFQ+KG9pZDogbnVtYmVyLCBmb3JtYXQ6IFwidGV4dFwiKTogVHlwZVBhcnNlcjxzdHJpbmcsIHN0cmluZyB8IFQ+OyA8VD4ob2lkOiBudW1iZXIsIGZvcm1hdDogXCJiaW5hcnlcIik6IFR5cGVQYXJzZXI8Li4uPjsgfScuXG4gICAgICAgICAgICAvLyAgIFR5cGUgJyhqc29uOiBzdHJpbmcpID0+IHVua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ1R5cGVQYXJzZXI8QnVmZmVyLCBhbnk+Jy5cbiAgICAgICAgICAgIC8vICAgICBUeXBlcyBvZiBwYXJhbWV0ZXJzICdqc29uJyBhbmQgJ3ZhbHVlJyBhcmUgaW5jb21wYXRpYmxlLlxuICAgICAgICAgICAgLy8gICAgICAgVHlwZSAnQnVmZmVyJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdzdHJpbmcnLnRzKDI3NjkpXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQmVjYXVzZSBwZy10eXBlcyB0eXBlcyBleHBlY3QgdXMgdG8gaGFuZGxlIGJvdGggYmluYXJ5IGFuZCB0ZXh0IHByb3RvY29sIHZlcnNpb25zLFxuICAgICAgICAgICAgLy8gd2hlcmUgYXMgZmFyIHdlIGNhbiBzZWUsIHBnIHdpbGwgZXZlciBwYXNzIG9ubHkgdGV4dCB2ZXJzaW9uLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGdldFR5cGVQYXJzZXI6IChvaWQsIGZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZm9ybWF0ID09PSBcInRleHRcIiAmJiBjdXN0b21QYXJzZXJzW29pZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tUGFyc2Vyc1tvaWRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlczIuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZXNcbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMub25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgb25FcnJvcihlcnJvcikge1xuICAgIGRlYnVnKFwiRXJyb3IgaW4gcGVyZm9ybUlPOiAlT1wiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IERyaXZlckFkYXB0ZXJFcnJvcihjb252ZXJ0RHJpdmVyRXJyb3IoZXJyb3IpKTtcbiAgfVxufTtcbnZhciBQZ1RyYW5zYWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBQZ1F1ZXJ5YWJsZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgb3B0aW9ucywgcGdPcHRpb25zLCBjbGVhbnVwKSB7XG4gICAgc3VwZXIoY2xpZW50LCBwZ09wdGlvbnMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5wZ09wdGlvbnMgPSBwZ09wdGlvbnM7XG4gICAgdGhpcy5jbGVhbnVwID0gY2xlYW51cDtcbiAgfVxuICBhc3luYyBjb21taXQoKSB7XG4gICAgZGVidWcoYFtqczo6Y29tbWl0XWApO1xuICAgIHRoaXMuY2xlYW51cD8uKCk7XG4gICAgdGhpcy5jbGllbnQucmVsZWFzZSgpO1xuICB9XG4gIGFzeW5jIHJvbGxiYWNrKCkge1xuICAgIGRlYnVnKGBbanM6OnJvbGxiYWNrXWApO1xuICAgIHRoaXMuY2xlYW51cD8uKCk7XG4gICAgdGhpcy5jbGllbnQucmVsZWFzZSgpO1xuICB9XG59O1xudmFyIFByaXNtYVBnQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgUGdRdWVyeWFibGUge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIHBnT3B0aW9ucywgcmVsZWFzZSkge1xuICAgIHN1cGVyKGNsaWVudCk7XG4gICAgdGhpcy5wZ09wdGlvbnMgPSBwZ09wdGlvbnM7XG4gICAgdGhpcy5yZWxlYXNlID0gcmVsZWFzZTtcbiAgfVxuICBhc3luYyBzdGFydFRyYW5zYWN0aW9uKGlzb2xhdGlvbkxldmVsKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHVzZVBoYW50b21RdWVyeTogZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IHRhZyA9IFwiW2pzOjpzdGFydFRyYW5zYWN0aW9uXVwiO1xuICAgIGRlYnVnKFwiJXMgb3B0aW9uczogJU9cIiwgdGFnLCBvcHRpb25zKTtcbiAgICBjb25zdCBjb25uID0gYXdhaXQgdGhpcy5jbGllbnQuY29ubmVjdCgpLmNhdGNoKChlcnJvcikgPT4gdGhpcy5vbkVycm9yKGVycm9yKSk7XG4gICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgIGRlYnVnKGBFcnJvciBmcm9tIHBvb2wgY29ubmVjdGlvbjogJHtlcnIubWVzc2FnZX0gJU9gLCBlcnIpO1xuICAgICAgdGhpcy5wZ09wdGlvbnM/Lm9uQ29ubmVjdGlvbkVycm9yPy4oZXJyKTtcbiAgICB9O1xuICAgIGNvbm4ub24oXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgY29ubi5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHR4ID0gbmV3IFBnVHJhbnNhY3Rpb24oY29ubiwgb3B0aW9ucywgdGhpcy5wZ09wdGlvbnMsIGNsZWFudXApO1xuICAgICAgYXdhaXQgdHguZXhlY3V0ZVJhdyh7IHNxbDogXCJCRUdJTlwiLCBhcmdzOiBbXSwgYXJnVHlwZXM6IFtdIH0pO1xuICAgICAgaWYgKGlzb2xhdGlvbkxldmVsKSB7XG4gICAgICAgIGF3YWl0IHR4LmV4ZWN1dGVSYXcoe1xuICAgICAgICAgIHNxbDogYFNFVCBUUkFOU0FDVElPTiBJU09MQVRJT04gTEVWRUwgJHtpc29sYXRpb25MZXZlbH1gLFxuICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgIGFyZ1R5cGVzOiBbXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgY29ubi5yZWxlYXNlKGVycm9yKTtcbiAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIGV4ZWN1dGVTY3JpcHQoc2NyaXB0KSB7XG4gICAgY29uc3Qgc3RhdGVtZW50cyA9IHNjcmlwdC5zcGxpdChcIjtcIikubWFwKChzdG10KSA9PiBzdG10LnRyaW0oKSkuZmlsdGVyKChzdG10KSA9PiBzdG10Lmxlbmd0aCA+IDApO1xuICAgIGZvciAoY29uc3Qgc3RtdCBvZiBzdGF0ZW1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5xdWVyeShzdG10KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldENvbm5lY3Rpb25JbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY2hlbWFOYW1lOiB0aGlzLnBnT3B0aW9ucz8uc2NoZW1hLFxuICAgICAgc3VwcG9ydHNSZWxhdGlvbkpvaW5zOiB0cnVlXG4gICAgfTtcbiAgfVxuICBhc3luYyBkaXNwb3NlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbGVhc2U/LigpO1xuICB9XG4gIHVuZGVybHlpbmdEcml2ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50O1xuICB9XG59O1xudmFyIFByaXNtYVBnQWRhcHRlckZhY3RvcnkgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHBvb2xPckNvbmZpZywgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHBvb2xPckNvbmZpZyBpbnN0YW5jZW9mIHBnMi5Qb29sKSB7XG4gICAgICB0aGlzLmV4dGVybmFsUG9vbCA9IHBvb2xPckNvbmZpZztcbiAgICAgIHRoaXMuY29uZmlnID0gcG9vbE9yQ29uZmlnLm9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXh0ZXJuYWxQb29sID0gbnVsbDtcbiAgICAgIHRoaXMuY29uZmlnID0gcG9vbE9yQ29uZmlnO1xuICAgIH1cbiAgfVxuICBwcm92aWRlciA9IFwicG9zdGdyZXNcIjtcbiAgYWRhcHRlck5hbWUgPSBuYW1lO1xuICBjb25maWc7XG4gIGV4dGVybmFsUG9vbDtcbiAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICBjb25zdCBjbGllbnQgPSB0aGlzLmV4dGVybmFsUG9vbCA/PyBuZXcgcGcyLlBvb2wodGhpcy5jb25maWcpO1xuICAgIGNvbnN0IG9uSWRsZUNsaWVudEVycm9yID0gKGVycikgPT4ge1xuICAgICAgZGVidWcoYEVycm9yIGZyb20gaWRsZSBwb29sIGNsaWVudDogJHtlcnIubWVzc2FnZX0gJU9gLCBlcnIpO1xuICAgICAgdGhpcy5vcHRpb25zPy5vblBvb2xFcnJvcj8uKGVycik7XG4gICAgfTtcbiAgICBjbGllbnQub24oXCJlcnJvclwiLCBvbklkbGVDbGllbnRFcnJvcik7XG4gICAgcmV0dXJuIG5ldyBQcmlzbWFQZ0FkYXB0ZXIoY2xpZW50LCB0aGlzLm9wdGlvbnMsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmV4dGVybmFsUG9vbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zPy5kaXNwb3NlRXh0ZXJuYWxQb29sKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5leHRlcm5hbFBvb2wuZW5kKCk7XG4gICAgICAgICAgdGhpcy5leHRlcm5hbFBvb2wgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXh0ZXJuYWxQb29sLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgb25JZGxlQ2xpZW50RXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBjbGllbnQuZW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgY29ubmVjdFRvU2hhZG93RGIoKSB7XG4gICAgY29uc3QgY29ubiA9IGF3YWl0IHRoaXMuY29ubmVjdCgpO1xuICAgIGNvbnN0IGRhdGFiYXNlID0gYHByaXNtYV9taWdyYXRlX3NoYWRvd19kYl8ke2dsb2JhbFRoaXMuY3J5cHRvLnJhbmRvbVVVSUQoKX1gO1xuICAgIGF3YWl0IGNvbm4uZXhlY3V0ZVNjcmlwdChgQ1JFQVRFIERBVEFCQVNFIFwiJHtkYXRhYmFzZX1cImApO1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBwZzIuUG9vbCh7IC4uLnRoaXMuY29uZmlnLCBkYXRhYmFzZSB9KTtcbiAgICByZXR1cm4gbmV3IFByaXNtYVBnQWRhcHRlcihjbGllbnQsIHZvaWQgMCwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgY29ubi5leGVjdXRlU2NyaXB0KGBEUk9QIERBVEFCQVNFIFwiJHtkYXRhYmFzZX1cImApO1xuICAgICAgYXdhaXQgY2xpZW50LmVuZCgpO1xuICAgIH0pO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgUHJpc21hUGdBZGFwdGVyRmFjdG9yeSBhcyBQcmlzbWFQZ1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@prisma+adapter-pg@7.4.0/node_modules/@prisma/adapter-pg/dist/index.mjs\n");

/***/ })

};
;